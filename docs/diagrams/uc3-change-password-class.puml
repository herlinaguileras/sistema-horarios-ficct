@startuml uc3-change-password-class
skinparam classAttributeIconSize 0
skinparam roundcorner 10

class "update-password-form.blade.php" as UpdatePasswordView <<Boundary>> {
  - current_password: string
  - password: string
  - password_confirmation: string
  + submitForm(): void
}

class PasswordController <<Control>> {
  + update(request: Request): RedirectResponse
}

class User <<Entity>> {
  - id: int
  - name: string
  - email: string
  - password: string
  - remember_token: string
  - created_at: timestamp
  - updated_at: timestamp
  + docente(): Docente
  + roles(): Collection
  + hasRole(role: string): bool
}

UpdatePasswordView --> PasswordController : submit password update
PasswordController --> User : update password
PasswordController --> UpdatePasswordView : redirect with status

note right of UpdatePasswordView
  Vista del formulario de cambio de contraseña.
  Solicita contraseña actual, nueva contraseña 
  y confirmación. Valida que coincidan.
  Ruta: resources/views/profile/partials/
  update-password-form.blade.php
end note

note bottom of PasswordController
  Controlador que gestiona la actualización
  de contraseña del usuario autenticado.
  Valida la contraseña actual y hashea
  la nueva contraseña antes de guardarla.
  Namespace: App\Http\Controllers\Auth
end note

note left of User
  Entidad que representa al usuario
  del sistema. La contraseña se almacena
  hasheada con bcrypt. Se actualiza
  mediante Hash::make().
  Modelo: app/Models/User.php
end note

@enduml
